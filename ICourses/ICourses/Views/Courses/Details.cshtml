@model ICourses.Data.Models.Course

@{
    ViewData["Title"] = "Index";
}

@if (User.IsInRole("admin") || User.IsInRole("teacher"))
{
    <p>
        <a asp-controller="Modules" asp-action="Create" asp-route-id="@Model.Id">Добавить новый модуль</a>
    </p>
}

<div>@Model.Description</div>


@*@if (@Model.Modules != null)
{

    @foreach (var item in @Model.Modules)
    {
        <section class="foutrh">
            <div class="container-fluid-bg">
                <div class="start">
                    <div class="title">
                        <h3>LET'S GET STARTED TODAY</h3>
                    </div>
                    <div class="start-content">
                        <div class="start-text">
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus rerum non a obcaecati mollitia iure, laboriosam molestiae et. Aspernatur, ea!</p>
                            <a class="button-active" href="#">Get Started</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        }
    }*@





        <table class="table">
            <tbody>
                @if (@Model.Modules != null)
                {

                    @foreach (var item in @Model.Modules)
                    {
                        <tr>
                            <td>
                                @item.Modified
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>
                                @item.Description
                                <img src="data:image/jpeg;base64,@(Convert.ToBase64String(@item.Image))" alt="Spacein Web Design">

                            </td>

                            <td>
                                <a asp-controller="Modules" asp-action="Details" asp-route-id="@item.Id">Details</a> |
                                =
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <h3>Комментарии</h3>

        <div class="container">

            @if (ViewBag.Comments != null)
            {
                <p>Лист все коментов</p>
                @foreach (var item in @ViewBag.Comments)
                {
                    <h2>@item.Title</h2>
                    <p>@item.User.Email</p>

                    <p>@item.Text</p>

                    @if (User.IsInRole("admin") || User.IsInRole("moderator"))
                    {
                        <form asp-controller="Comments" asp-action="Delete" asp-route-id="@item.Id" method="post">

                            <button type="submit" class="btn btn-sm btn-danger">
                                Удалить
                            </button>
                        </form>
                    }


                }
            }
        </div>

        <a asp-area="" asp-controller="Comments" asp-action="Create" asp-route-id="@Model.Id">Добавить коментарий</a>



